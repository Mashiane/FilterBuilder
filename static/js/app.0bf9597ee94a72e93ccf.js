webpackJsonp([1,0],[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var s=n(13),r=o(s),i=n(7),u=o(i);new r.default({el:"#app",template:"<App/>",components:{App:u.default}})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),r=o(s);e.default={name:"app",components:{AndOr:r.default},data:function(){return{options:{keys:[{name:"Choose Key",id:-99},{name:"Crash Number",id:134},{name:"GUID",id:87},{name:"Daily Startup",id:256},{name:"IP",id:121}],operators:[{name:"Choose Operator",id:-99},{name:"more",id:">"},{name:"equal",id:"="},{name:"less",id:"<"}]},isFirst:!0}},methods:{fetchQuery:function(){console.log(this.$refs.andOr.queryFormStatus())}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),r=o(s);e.default={name:"andOr",components:{Rule:r.default},props:{options:{type:Object,required:!0},isFirst:{type:Boolean,default:!1}},created:function(){this.addRule()},data:function(){return{isAnd:!0,groups:[],rules:[]}},methods:{clickAnd:function(){this.isAnd=!0},clickOr:function(){this.isAnd=!1},addRule:function(){var t=this.generateId();this.rules.push(t)},addGroup:function(){var t=this.generateId();this.groups.push(t)},deleteSelf:function(){this.$emit("delete-group")},deleteRule:function(t){this.rules.splice(t,1)},deleteGroup:function(t){this.groups.splice(t,1)},queryFormStatus:function(){var t,e,n={},o=this.$refs.rules||{},s=this.$refs.groups||{};for(n.condition=this.isAnd?"AND":"OR",n.rules=[],t=0;t<o.length;t++)n.rules.push(o[t].queryFormStatus());for(e=0;e<s.length;e++)n.rules[n.rules.length]=s[e].queryFormStatus();return n},fillFormStatus:function(t){var e,n,o=this;if(o.rules=[],o.groups=[],t)for(o.isAnd=t.condition,n=t.rules.length,e=0;e<n;e++)t.rules[e].condition?(o.groups.push(o.generateId()),function(e,n){o.$nextTick(function(){o.$refs.groups[n].fillFormStatus(t.rules[e])})}(e,o.groups.length-1)):(o.rules.push(o.generateId()),function(e,n){o.$nextTick(function(){o.$refs.rules[n].fillRuleStatus(t.rules[e])})}(e,o.rules.length-1))},generateId:function(){return"xxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"rule",props:["options"],watch:{"options.keys.options":function(){this.key=-99},"options.conditions.options":function(){this.condition=-99}},data:function(){return{key:-99,operator:-99,value:""}},methods:{deleteSelf:function(){this.$emit("delete-rule")},queryFormStatus:function(){return{key:this.key,operator:this.operator,value:this.value}},fillRuleStatus:function(t){this.key=t.key,this.operator=t.operator,this.value=t.value}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var o,s;n(4),o=n(1);var r=n(10);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;n(5),o=n(2);var r=n(11);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;n(6),o=n(3);var r=n(12);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"col-xs-8 col-xs-offset-2",staticStyle:{"margin-top":"40px"}},[e("and-or",{ref:"andOr",attrs:{options:t.options,isFirst:t.isFirst}}),t._v(" "),t._v(" ")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"and-or-template col-xs-12",class:t.isFirst?"and-or-first":""},[e("div",{staticClass:"form-group and-or-top col-xs-12"},[e("div",{staticClass:"col-xs-5",staticStyle:{padding:"0"}},[e("button",{staticClass:"btn btn-xs btn-purple-outline btn-radius",class:t.isAnd?"btn-purple-outline-focus":"",on:{click:function(e){e.preventDefault(),t.clickAnd(e)}}},[t._v("\n         And \n      ")]),t._v(" "),e("button",{staticClass:"btn btn-xs btn-purple-outline btn-radius",class:t.isAnd?"":"btn-purple-outline-focus",on:{click:function(e){e.preventDefault(),t.clickOr(e)}}},[t._v("\n         Or \n      ")])]),t._v(" "),e("div",{staticClass:"col-xs-7 btn-and-or"},[t.isFirst?t._e():e("button",{staticClass:"btn btn-xs btn-purple pull-right",on:{click:function(e){e.preventDefault(),t.deleteSelf()}}},[e("i",{staticClass:"fa fa-fw fa-close"})]),t._v(" "),e("button",{staticClass:"btn btn-xs btn-purple pull-right",on:{click:function(e){e.preventDefault(),t.addGroup(e)}}},[t._v(" + ( group ) ")]),t._v(" "),e("button",{staticClass:"btn btn-xs btn-purple add-rule pull-right",on:{click:function(e){e.preventDefault(),t.addRule(e)}}},[t._v(" + add ")])])]),t._v(" "),t._l(t.rules,function(n,o){return e("rule",{key:n,ref:"rules",refInFor:!0,attrs:{options:t.options},on:{"delete-rule":function(e){t.deleteRule(o)}}})}),t._v(" "),t._l(t.groups,function(n,o){return e("and-or",{key:n,ref:"groups",refInFor:!0,staticClass:"and-or-offset col-xs-11",attrs:{options:t.options},on:{"delete-group":function(e){t.deleteGroup(o)}}})})],!0)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"form-group and-or-rule col-xs-12"},[e("div",{staticClass:"col-xs-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],staticClass:"form-control input-sm",on:{change:function(e){t.key=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},t._l(t.options.keys,function(n){return e("option",{domProps:{value:n.id}},[t._v("\n        "+t._s(n.name)+"\n      ")])}))]),t._v(" "),e("div",{staticClass:"col-xs-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.operator,expression:"operator"}],staticClass:"form-control input-sm",on:{change:function(e){t.operator=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},t._l(t.options.operators,function(n){return e("option",{domProps:{value:n.id}},[t._v("\n        "+t._s(n.name)+"\n      ")])}))]),t._v(" "),e("div",{staticClass:"col-xs-3"},[e("label",{staticClass:"sr-only"},[t._v("值")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"值"},domProps:{value:t._s(t.value)},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-xs btn-purple-outline btn-radius btn-purple-round",on:{click:function(e){e.preventDefault(),t.deleteSelf()}}},[e("i",{staticClass:"fa fa-fw fa-close"})])])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.0bf9597ee94a72e93ccf.js.map